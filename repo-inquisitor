#!/bin/bash

set -euo pipefail

# --- ARGUMENT PARSING ---

TARGET_DIR="${1:-.}"

if [ "$TARGET_DIR" == "--help" ]; then
	echo ""
	echo "Usage: repo-inquisitor [PATH]"
	echo ""
	echo "Arguments:"
	echo "  PATH          Path to the directory to analyze (default: current directory)"
	echo ""
	echo "Options:"
	echo "  --help        Show this help message"
	echo ""
	exit 0
fi

# --- VALIDATION ---

if [ ! -d "$TARGET_DIR" ]; then
	echo "‚ùå Error: Directory '$TARGET_DIR' does not exist."
	exit 1
fi

# --- MAIN LOGIC ---

FULL_PATH=$(cd "$TARGET_DIR" && pwd)

echo "üïµÔ∏è  Repo Inquisitor v0.1 " 
echo "üìÇ Analyzing directory: $FULL_PATH"

echo "‚úÖ Setup complete. Ready for analysis."
